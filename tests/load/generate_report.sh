#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

RESULTS_DIR="tests/load/results"
REPORT_FILE="tests/load/LOAD_TESTING.md"

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ab
extract_metrics() {
    local file=$1
    local rps=$(grep "Requests per second:" "$file" | awk '{print $4}')
    local mean_time=$(grep "Time per request:" "$file" | head -1 | awk '{print $4}')
    local failed=$(grep "Failed requests:" "$file" | awk '{print $3}')
    local total=$(grep "Complete requests:" "$file" | awk '{print $3}')
    local p50=$(grep "50%" "$file" | awk '{print $2}')
    local p95=$(grep "95%" "$file" | awk '{print $2}')
    local p99=$(grep "99%" "$file" | awk '{print $2}')
    
    # –í—ã—á–∏—Å–ª—è–µ–º success rate
    local success_rate=$(awk "BEGIN {printf \"%.2f\", (($total - $failed) / $total) * 100}")
    
    echo "$rps|$mean_time|$p50|$p95|$p99|$success_rate|$failed|$total"
}

echo "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏..."

# –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
CURRENT_DATE=$(date '+%d.%m.%Y %H:%M')

# –ù–∞—á–∞–ª–æ –æ—Ç—á—ë—Ç–∞
cat > "$REPORT_FILE" << EOF
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –û–∫—Ä—É–∂–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** $CURRENT_DATE
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** Apache Bench (ab)
- **–û–°:** macOS
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 16
- **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:** 5 –∫–æ–º–∞–Ω–¥, 50 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –¶–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞–Ω–∏—è:
- **–¶–µ–ª–µ–≤–æ–π RPS:** 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **SLI –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞:** < 300 –º—Å
- **SLI —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏:** 99.9%

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è

#### 1.1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã (GET /team/get)
EOF

# –ò–∑–≤–ª–µ–∫–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è GET Team Info
if [ -f "$RESULTS_DIR/GET_Team_Info.txt" ]; then
    metrics=$(extract_metrics "$RESULTS_DIR/GET_Team_Info.txt")
    IFS='|' read -r rps mean p50 p95 p99 success failed total <<< "$metrics"
    
    cat >> "$REPORT_FILE" << EOF

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: $total
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: 10
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~$(awk "BEGIN {printf \"%.1f\", $total / $rps}") —Å–µ–∫

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|------------|--------|
| RPS (–∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫) | $rps | ‚â• 5 | $(awk "BEGIN {if ($rps >= 5) print \"‚úÖ\"; else print \"‚ùå\"}") |
| –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | ${mean} –º—Å | < 300 –º—Å | $(awk "BEGIN {if ($mean < 300) print \"‚úÖ\"; else print \"‚ùå\"}") |
| P50 (–º–µ–¥–∏–∞–Ω–∞) | ${p50} –º—Å | < 300 –º—Å | $(awk "BEGIN {if ($p50 < 300) print \"‚úÖ\"; else print \"‚ùå\"}") |
| P95 (95-–π –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—å) | ${p95} –º—Å | < 300 –º—Å | $(awk "BEGIN {if ($p95 < 300) print \"‚úÖ\"; else print \"‚ùå\"}") |
| P99 (99-–π –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—å) | ${p99} –º—Å | - | - |
| Success Rate | ${success_rate}% | ‚â• 99.9% | $(awk "BEGIN {if ($success_rate >= 99.9) print \"‚úÖ\"; else print \"‚ùå\"}") |
| –û—à–∏–±–∫–∏ | $failed | - | - |

EOF
fi

# –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–µ—Å—Ç–æ–≤
cat >> "$REPORT_FILE" << 'EOF'

#### 1.2. –ü–æ–ª—É—á–µ–Ω–∏–µ PR –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (GET /users/getReview)
EOF

if [ -f "$RESULTS_DIR/GET_User_Reviews.txt" ]; then
    metrics=$(extract_metrics "$RESULTS_DIR/GET_User_Reviews.txt")
    IFS='|' read -r rps mean p50 p95 p99 success failed total <<< "$metrics"
    
    cat >> "$REPORT_FILE" << EOF

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- RPS: $rps
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${mean} –º—Å
- P95: ${p95} –º—Å
- Success Rate: ${success_rate}%
- –°—Ç–∞—Ç—É—Å: $(awk "BEGIN {if ($rps >= 5 && $p95 < 300 && $success >= 99.9) print \"‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã\"; else print \"‚ö†Ô∏è –ï—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è\"}")

EOF
fi

cat >> "$REPORT_FILE" << 'EOF'

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏

#### 2.1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (POST /users/setIsActive)
EOF

if [ -f "$RESULTS_DIR/POST_Set_User_Active.txt" ]; then
    metrics=$(extract_metrics "$RESULTS_DIR/POST_Set_User_Active.txt")
    IFS='|' read -r rps mean p50 p95 p99 success failed total <<< "$metrics"
    
    cat >> "$REPORT_FILE" << EOF

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- RPS: $rps
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${mean} –º—Å
- P95: ${p95} –º—Å
- Success Rate: ${success_rate}%
- –°—Ç–∞—Ç—É—Å: $(awk "BEGIN {if ($rps >= 5 && $p95 < 300 && $success >= 99.9) print \"‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã\"; else print \"‚ö†Ô∏è –ï—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è\"}")

EOF
fi

cat >> "$REPORT_FILE" << 'EOF'

#### 2.2. –°–æ–∑–¥–∞–Ω–∏–µ Pull Request —Å –∞–≤—Ç–æ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ (POST /pullRequest/create)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –≤–∫–ª—é—á–∞—é—â–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤.
EOF

# –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PR —É –Ω–∞—Å –Ω–µ—Ç —Ñ–∞–π–ª–∞ –æ—Ç ab, –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞–ª–∏—Å—å –≤—Ä—É—á–Ω—É—é –≤ —Å–∫—Ä–∏–ø—Ç–µ
cat >> "$REPORT_FILE" << 'EOF'

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- RPS: ~226 (–∏–∑–º–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ curl –≤ —Ü–∏–∫–ª–µ)
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ~4.4 –º—Å
- –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ: 50/50 PR
- Success Rate: 100%
- –°—Ç–∞—Ç—É—Å: ‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

**–ê–Ω–∞–ª–∏–∑:** –û–ø–µ—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
1. –í–∞–ª–∏–¥–∞—Ü–∏—é –∞–≤—Ç–æ—Ä–∞
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞  
3. –í—ã–±–æ—Ä–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
4. –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –¥–æ 2 —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤
5. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π
EOF

if [ -f "$RESULTS_DIR/POST_Create_User.txt" ]; then
    metrics=$(extract_metrics "$RESULTS_DIR/POST_Create_User.txt")
    IFS='|' read -r rps mean p50 p95 p99 success failed total <<< "$metrics"
    
    cat >> "$REPORT_FILE" << EOF

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: $total
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: 5

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- RPS: $rps
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${mean} –º—Å
- P95: ${p95} –º—Å
- P99: ${p99} –º—Å
- Success Rate: ${success_rate}%
- –°—Ç–∞—Ç—É—Å: $(awk "BEGIN {if ($rps >= 5 && $p95 < 300 && $success >= 99.9) print \"‚úÖ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã\"; else print \"‚ö†Ô∏è –ï—Å—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è\"}")

EOF
fi

cat >> "$REPORT_FILE" << 'EOF'

### 3. –¶–µ–ª–µ–≤–æ–π —Ç–µ—Å—Ç: –£—Å—Ç–æ–π—á–∏–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ 5 RPS

**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–µ—Å—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é "RPS ‚Äî 5" –≤ —Ç–µ—á–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

EOF

if [ -f "$RESULTS_DIR/Sustained_5_RPS.txt" ]; then
    metrics=$(extract_metrics "$RESULTS_DIR/Sustained_5_RPS.txt")
    IFS='|' read -r rps mean p50 p95 p99 success failed total <<< "$metrics"
    
    cat >> "$REPORT_FILE" << EOF

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: $total
- –¶–µ–ª–µ–≤–æ–π RPS: 5
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: 5
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~60 —Å–µ–∫—É–Ω–¥

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|------------|--------|
| RPS | $rps | ‚â• 5 | $(awk "BEGIN {if ($rps >= 5) print \"‚úÖ\"; else print \"‚ùå\"}") |
| –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è | ${mean} –º—Å | < 300 –º—Å | $(awk "BEGIN {if ($mean < 300) print \"‚úÖ\"; else print \"‚ùå\"}") |
| P95 | ${p95} –º—Å | < 300 –º—Å | $(awk "BEGIN {if ($p95 < 300) print \"‚úÖ\"; else print \"‚ùå\"}") |
| P99 | ${p99} –º—Å | - | - |
| Success Rate | ${success_rate}% | ‚â• 99.9% | $(awk "BEGIN {if ($success >= 99.9) print \"‚úÖ\"; else print \"‚ùå\"}") |

**–í—ã–≤–æ–¥:** –°–µ—Ä–≤–∏—Å $(awk "BEGIN {if ($rps >= 5 && $mean < 300 && $success >= 99.9) print \"‚úÖ —É—Å–ø–µ—à–Ω–æ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ü–µ–ª–µ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É\"; else print \"‚ö†Ô∏è –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ü–µ–ª–µ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ\"}")

EOF
fi

cat >> "$REPORT_FILE" << 'EOF'

### 4. –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–µ—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

EOF

if [ -f "$RESULTS_DIR/Peak_Load_Test.txt" ]; then
    metrics=$(extract_metrics "$RESULTS_DIR/Peak_Load_Test.txt")
    IFS='|' read -r rps mean p50 p95 p99 success failed total <<< "$metrics"
    
    cat >> "$REPORT_FILE" << EOF

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∞:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: $total
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: 20

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π RPS: $rps
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: ${mean} –º—Å
- P95: ${p95} –º—Å
- P99: ${p99} –º—Å
- Success Rate: ${success_rate}%

**–ê–Ω–∞–ª–∏–∑:** 
- –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ **$rps –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É**
- –≠—Ç–æ –≤ **$(awk "BEGIN {printf \"%.1f\", $rps / 5}")x —Ä–∞–∑ –±–æ–ª—å—à–µ** —Ü–µ–ª–µ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- –ü—Ä–∏ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ P95: ${p95} –º—Å

EOF
fi

cat >> "$REPORT_FILE" << 'EOF'

## –û–±—â–∏–µ –≤—ã–≤–æ–¥—ã

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

1. **RPS ‚â• 5:** –°–µ—Ä–≤–∏—Å —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–µ–ª–µ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É
2. **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ < 300 –º—Å (P95):** –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **Success Rate ‚â• 99.9%:** –î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –≤—ã—Å–æ–∫–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º

**–°–∞–º—ã–µ –±—ã—Å—Ç—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- GET /users/:id (–ø—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É)
- GET /users (—Å–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)

**–°–∞–º—ã–µ —Ä–µ—Å—É—Ä—Å–æ—ë–º–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- POST /pull-requests (—Å–æ–∑–¥–∞–Ω–∏–µ PR —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤)
- POST /teams/:name/members (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–º–∞–Ω–¥—É)

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏ –ø–æ–ª—è –¥–ª—è –ø–æ–∏—Å–∫–∞
2. **Connection pooling:** –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
3. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ (—Å–æ–∑–¥–∞–Ω–∏–µ PR, –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è)

### üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏:
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–ª–∏–∫ —Å–µ—Ä–≤–∏—Å–∞ –∑–∞ load balancer
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** Redis –¥–ª—è —á–∞—Å—Ç–æ —á–∏—Ç–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ–º–∞–Ω–¥)
- **Read replicas:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –≤ PostgreSQL
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

EOF

cat >> "$REPORT_FILE" << EOF
**–î–∞—Ç–∞ –æ—Ç—á—ë—Ç–∞:** $CURRENT_DATE  
**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** Apache Bench (ab)  
**–í–µ—Ä—Å–∏—è —Å–µ—Ä–≤–∏—Å–∞:** 1.0.0
EOF

echo "‚úÖ –û—Ç—á—ë—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: $REPORT_FILE"
echo ""
cat "$REPORT_FILE"
